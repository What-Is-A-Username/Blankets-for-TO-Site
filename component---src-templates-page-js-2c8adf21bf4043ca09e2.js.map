{"version":3,"sources":["webpack:///./src/templates/page.js"],"names":["PageTemplate","render","post","get","this","props","options","renderNode","BLOCKS","EMBEDDED_ASSET","fields","data","target","file","contentType","startsWith","requiredHead","async","src","charset","id","defer","crossorigin","nonce","location","className","title","metaType","description","childMarkdownRemark","rawMarkdownBody","childElements","doNotCrawl","enableSearchCrawling","metaImage","imagePreview","fluid","styles","maxWidth","richTextBody","documentToReactComponents","json","slug","horizontalLine","excludeSlug","React","Component"],"mappings":"yRAaMA,E,0FAELC,OAAA,WAAU,IAAD,EACFC,EAAOC,IAAIC,KAAKC,MAAO,uBAEvBC,EAAU,CACfC,YAAU,OACRC,SAAOC,gBAAiB,YAAuC,IAAlBC,EAAiB,EAAnCC,KAAQC,OAAUF,OACzCA,EAAOG,KAAK,SAASC,YAAYC,WAAW,WAC9C,KAHM,IAQLC,EAAe,CACpB,4BAAQC,OAAK,EAACC,IAAI,0CAA0CC,QAAQ,UACpE,yBAAKC,GAAG,YACR,4BAAQH,OAAK,EAACI,OAAK,EAACC,YAAY,YAAYJ,IAAI,kEAAkEK,MAAM,cAGzH,OACC,kBAAC,IAAD,CAAQC,SAAUpB,KAAKC,MAAMmB,UAC5B,yBAAKC,UAAU,oBACd,kBAAC,IAAD,CACCC,MAAOxB,EAAKwB,MACZC,SAAS,UACTC,YAAa1B,EAAK0B,YAAYC,oBAAoBC,gBAClDC,cAAef,EACfgB,YAAa9B,EAAK+B,qBAClBC,UAAWhC,EAAKiC,aAAaC,MAAMlB,MAEpC,yBAAKO,UAAU,WACd,wBAAIA,UAAWY,IAAOX,OAAQxB,EAAKwB,OACnC,yBAAKD,UAAU,WAAWY,OAAQ,CAACC,SAAU,UACtB,MAArBpC,EAAKqC,aAAuBC,oCAA0BtC,EAAKqC,aAAaE,KAAMnC,GAAW,yDAE3F,kBAAC,IAAD,CAAakB,SAAU,iCAAmCtB,EAAKwC,OAC/D,wBAAIjB,UAAWY,IAAOM,iBACtB,kBAAC,IAAD,CAAgBC,YAAa1C,EAAKwC,W,GAtCbG,IAAMC,WA8ClB9C","file":"component---src-templates-page-js-2c8adf21bf4043ca09e2.js","sourcesContent":["import React from 'react'\r\nimport { graphql } from 'gatsby'\r\nimport SEO from '../components/SEO'\r\nimport get from 'lodash/get'\r\nimport Layout from '../components/layout'\r\nimport ArticlePreview from '../components/article-preview'\r\nimport LinkSharing from '../components/link-sharing'\r\n\r\nimport { BLOCKS } from '@contentful/rich-text-types';\r\nimport { documentToReactComponents } from \"@contentful/rich-text-react-renderer\"\r\nimport styles from '../templates/blog-post.module.css'\r\nimport CaptionedFigure from '../components/blog_embeds/captioned-figure'\r\n\r\nclass PageTemplate extends React.Component {\r\n\r\n\trender() {\r\n\t\tconst post = get(this.props, 'data.contentfulPage')\r\n\r\n\t\tconst options = {\r\n\t\t\trenderNode: {\r\n\t\t\t\t[BLOCKS.EMBEDDED_ASSET]: ({ data: { target: { fields } } }) => {\r\n\t\t\t\t\tif (fields.file['en-US'].contentType.startsWith('image/'))\t\r\n\t\t\t\t\t\t<CaptionedFigure fields={fields} hideCaption/>\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst requiredHead = [\r\n\t\t\t<script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>,\r\n\t\t\t<div id=\"fb-root\"></div>,\r\n\t\t\t<script async defer crossorigin=\"anonymous\" src=\"https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v10.0\" nonce=\"9bOR49xF\"></script>,\r\n\t\t]\r\n\r\n\t\treturn (\r\n\t\t\t<Layout location={this.props.location}>\r\n\t\t\t\t<div className=\"white-background\">\r\n\t\t\t\t\t<SEO \r\n\t\t\t\t\t\ttitle={post.title} \r\n\t\t\t\t\t\tmetaType='article'\r\n\t\t\t\t\t\tdescription={post.description.childMarkdownRemark.rawMarkdownBody}\r\n\t\t\t\t\t\tchildElements={requiredHead}\r\n\t\t\t\t\t\tdoNotCrawl={!post.enableSearchCrawling}\r\n\t\t\t\t\t\tmetaImage={post.imagePreview.fluid.src}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"wrapper\" >\r\n\t\t\t\t\t\t<h1 className={styles.title}>{post.title}</h1>\r\n\t\t\t\t\t\t<div className=\"richText\" styles={{maxWidth: '800px'}}>\r\n\t\t\t\t\t\t\t{post.richTextBody != null ? documentToReactComponents(post.richTextBody.json, options) : <p>Error: Article not found.</p>}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<LinkSharing location={'https://blanketsforto.ca/blog/' + post.slug} />\r\n\t\t\t\t\t\t<hr className={styles.horizontalLine}></hr>\r\n\t\t\t\t\t\t<ArticlePreview excludeSlug={post.slug}></ArticlePreview>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Layout>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default PageTemplate\r\n\r\nexport const DynamicPageQuery = graphql`\r\n\tquery PageBySlug($slug: String!) {\r\n\t\tsite {\r\n\t\t\tsiteMetadata {\r\n\t\t\t\ttitle\r\n\t\t\t}\r\n\t\t}\r\n\t\tcontentfulPage(slug: { eq: $slug }) {\r\n\t\t\ttitle\r\n\t\t\tslug\r\n\t\t\trichTextBody {\r\n\t\t\t\tjson\r\n\t\t\t}\r\n\t\t\tdescription {\r\n\t\t\t\tchildMarkdownRemark {\r\n\t\t\t\t\thtml\r\n\t\t\t\t\trawMarkdownBody\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tenableSearchCrawling\r\n\t\t\timagePreview {\r\n\t\t\t\tfluid(maxWidth: 1200, maxHeight: 600, resizingBehavior: PAD, background: \"rgb:ffffff\") {\r\n\t\t\t\t\tsrc\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`\r\n"],"sourceRoot":""}