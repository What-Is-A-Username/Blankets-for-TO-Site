{"version":3,"file":"component---src-pages-store-js-7eab4c7630824412a37a.js","mappings":"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","sources":["webpack://blankets-for-to-site/./src/components/styled-button.js","webpack://blankets-for-to-site/./src/components/store/store-item-preview.js","webpack://blankets-for-to-site/./src/components/store/store-item-preview.module.css","webpack://blankets-for-to-site/./src/pages/store.js","webpack://blankets-for-to-site/./src/page-styles/store.module.css","webpack://blankets-for-to-site/./node_modules/lodash/_baseSum.js","webpack://blankets-for-to-site/./node_modules/lodash/sum.js","webpack://blankets-for-to-site/./src/components/styled-button.module.css","webpack://blankets-for-to-site/./node_modules/react-feather/dist/icons/shopping-cart.js"],"sourcesContent":["import React from \"react\"\r\nimport PropTypes from 'prop-types'\r\nimport { primaryButton, whiteButton } from './styled-button.module.css'\r\n\r\nconst StyledButton = ({buttonText, link, isWhite, openInNewTab, children}) => {\r\n    return(\r\n        <a href={link} className={isWhite ? whiteButton : primaryButton} target={openInNewTab ? '_blank' : ''} rel='noopener noreferrer'>{buttonText}{children}</a>\r\n    );\r\n}\r\n\r\nStyledButton.propTypes = {\r\n    buttonText: PropTypes.string.isRequired,\r\n    link: PropTypes.string.isRequired,\r\n    isWhite: PropTypes.bool,\r\n    openInNewTab: PropTypes.bool,\r\n}\r\n\r\nStyledButton.defaultProps = {\r\n    isWhite: false, \r\n    openInNewTab: false,\r\n}\r\n\r\nexport default StyledButton; ","import React from 'react'\r\nimport { GatsbyImage } from 'gatsby-plugin-image'\r\nimport { alink, preview, previewImage, text, name, price, priceAmount, priceCurrency } from './store-item-preview.module.css'\r\n\r\nconst StoreItemPreview = ({storeitem}) => {\r\n\treturn (\r\n\t\t<a href={`/store/${storeitem.slug}`} className={alink} key={storeitem.title}>\r\n\t\t\t<div className={preview}>\r\n\t\t\t\t<div className={previewImage}>\r\n\t\t\t\t\t{storeitem.mainPreview != null ?\r\n\t\t\t\t\t\t<GatsbyImage image={storeitem.mainPreview.gatsbyImageData} alt={storeitem.mainPreview.description} />\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\tnull}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={text}>\r\n\t\t\t\t\t<h3 className={name}>{storeitem.itemName}</h3>\r\n\t\t\t\t\t<div className={price}>\r\n\t\t\t\t\t\t<p className={priceAmount}>${storeitem.itemPrice.toFixed(2)}</p>\r\n\t\t\t\t\t\t<p className={priceCurrency}>CAD</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</a>\r\n    )\r\n}\r\n\r\nexport default StoreItemPreview\r\n","// extracted by mini-css-extract-plugin\nexport var alink = \"store-item-preview-module--alink--b4f0c\";\nexport var name = \"store-item-preview-module--name--e55ff\";\nexport var preview = \"store-item-preview-module--preview--e66b4\";\nexport var previewImage = \"store-item-preview-module--previewImage--4ce72\";\nexport var price = \"store-item-preview-module--price--72c44\";\nexport var priceAmount = \"store-item-preview-module--priceAmount--c766d\";\nexport var priceCurrency = \"store-item-preview-module--priceCurrency--2cbb0\";\nexport var text = \"store-item-preview-module--text--dcd34\";","import React from 'react'\r\nimport Layout from '../components/layout'\r\nimport { graphql } from 'gatsby'\r\nimport get from 'lodash/get'\r\nimport SEO from '../components/SEO'\r\n\r\nimport { ShoppingCart } from 'react-feather'\r\nimport StoreItemPreview from '../components/store/store-item-preview'\r\nimport Cookies from 'js-cookie'\r\nimport HeaderImage from '../components/header-image'\r\nimport StyledButton from '../components/styled-button'\r\nimport { sum } from 'lodash'\r\n\r\nimport * as styles from '../page-styles/store.module.css'\r\n\r\nexport default class Store extends React.Component {\r\n\r\n    state = { cartItems: []}\r\n\r\n    componentDidMount()\r\n    {\r\n        // var isServer = typeof window === undefined;\r\n        // var cookies = isServer ? new Cookies(req.headers.cookie) : new Cookies(); \r\n        // this.setState({cartItems: cookies.get('cart-items')});\r\n        if (typeof window !== 'undefined') {\r\n            this.setState({cartItems: JSON.parse(Cookies.get('cart-items'))});\r\n        }\r\n    }\r\n\r\n\trender() {\r\n\r\n        const imgFluid = get(this, 'props.data.allContentfulHeaderImage.nodes[0].image.gatsbyImageData')\r\n        const headerSubtitle = 'Purchases go towards funding donations for the homeless community.'\r\n        const headerTitle = 'Merchandise Store'\r\n        \r\n\t\tconst storeItems = get(this, 'props.data.allContentfulMerchItem.nodes')\r\n        var itemsInCart = Array.isArray(this.state.cartItems) && this.state.cartItems.length > 0; \r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Layout location={this.props.location}>\r\n\t\t\t\t<SEO \r\n                    title='Browse merchandise for Blankets for T.O.'\r\n                    description='Browse Blankets for T.O. merchandise including masks and stickers. Purchases go towards funding donations and events.'\r\n                    doNotCrawl\r\n                />\r\n\t\t\t\t<div className=\"white-background\">\r\n                    {\r\n                        (!itemsInCart) ? \r\n                        <HeaderImage imgFluid={imgFluid} headerTitle={headerTitle} headerSubtitle={headerSubtitle}/>\r\n                        :\r\n                        null\r\n                    }\r\n\r\n                    <div className={styles.cartDisplay}>\r\n                        <div className={styles.cartDisplayInfo}>\r\n                            <ShoppingCart size={64}/>\r\n                            <p>{itemsInCart ? `There are ${sum(this.state.cartItems.map(x => x.count))} items in your shopping cart.`:`Browse items below and add them to your cart for checkout.`}</p>\r\n                        </div>\r\n                        {\r\n                            itemsInCart ?\r\n                            <StyledButton buttonText='View shopping cart' link='/cart' openInNewTab={false}/>\r\n                            :\r\n                            null\r\n                        }\r\n                        \r\n                    </div> \r\n\r\n                    <div className={styles.catalogue}>\r\n                        <h3 className={styles.catalogueTitle}>Our Catalogue</h3>\r\n                        <div className={styles.catalogueContainer}>\r\n                            {storeItems.map(item =>\r\n                                {\r\n                                    return(<StoreItemPreview storeitem={item} key={item.itemName}/>)\r\n                                }\r\n                            )}\r\n                        </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Layout>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport const StoreQuery = graphql`\r\n    query StoreQuery {\r\n        allContentfulMerchItem(filter: {itemName: {ne: \"Placeholder\"}}) {\r\n            nodes {\r\n                slug\r\n                mainPreview {\r\n                    description\r\n                    gatsbyImageData(\r\n                        layout: FULL_WIDTH\r\n                        placeholder: BLURRED\r\n                    )\r\n                }\r\n                largePreview {\r\n                    gatsbyImageData(\r\n                        layout: FULL_WIDTH\r\n                        placeholder: BLURRED\r\n                    )\r\n                }\r\n                itemName\r\n                itemPrice\r\n                itemDescription \r\n                {\r\n                    raw\r\n                }\r\n            }\r\n        }\r\n        file(relativePath: { eq: \"shopping-bag.jpg\" }) {\r\n            childImageSharp {\r\n                gatsbyImageData(\r\n                    layout: FULL_WIDTH\r\n                    placeholder: BLURRED\r\n                )\r\n            }\r\n        }\r\n        allContentfulHeaderImage(filter: {pageName: {eq: \"Store\"}}, limit: 1) {\r\n            nodes {\r\n\t\t\t\timage {\r\n\t\t\t\t\tgatsbyImageData(\r\n                        layout: FULL_WIDTH\r\n                        placeholder: BLURRED\r\n                    )\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n`  ","// extracted by mini-css-extract-plugin\nexport var cartDisplay = \"store-module--cartDisplay--edfe2\";\nexport var cartDisplayInfo = \"store-module--cartDisplayInfo--fba2b\";\nexport var catalogue = \"store-module--catalogue--ea063\";\nexport var catalogueContainer = \"store-module--catalogueContainer--2453d\";\nexport var catalogueTitle = \"store-module--catalogueTitle--0c94e\";\nexport var description = \"store-module--description--a6b2c\";\nexport var headerImage = \"store-module--headerImage--df96a\";\nexport var headerLayout = \"store-module--headerLayout--ebaa0\";\nexport var headerText = \"store-module--headerText--502f9\";\nexport var subtitle = \"store-module--subtitle--f0724\";","/**\n * The base implementation of `_.sum` and `_.sumBy` without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(array, iteratee) {\n  var result,\n      index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var current = iteratee(array[index]);\n    if (current !== undefined) {\n      result = result === undefined ? current : (result + current);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseSum;\n","var baseSum = require('./_baseSum'),\n    identity = require('./identity');\n\n/**\n * Computes the sum of the values in `array`.\n *\n * @static\n * @memberOf _\n * @since 3.4.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {number} Returns the sum.\n * @example\n *\n * _.sum([4, 2, 8, 6]);\n * // => 20\n */\nfunction sum(array) {\n  return (array && array.length)\n    ? baseSum(array, identity)\n    : 0;\n}\n\nmodule.exports = sum;\n","// extracted by mini-css-extract-plugin\nexport var links = \"styled-button-module--links--e59e6\";\nexport var primaryButton = \"styled-button-module--primaryButton--0f3e8\";\nexport var whiteButton = \"styled-button-module--whiteButton--08a43\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar ShoppingCart = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"9\",\n    cy: \"21\",\n    r: \"1\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"20\",\n    cy: \"21\",\n    r: \"1\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6\"\n  }));\n});\nShoppingCart.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nShoppingCart.displayName = 'ShoppingCart';\nexport default ShoppingCart;"],"names":["StyledButton","_ref","buttonText","link","isWhite","openInNewTab","children","React","href","className","whiteButton","primaryButton","target","rel","defaultProps","storeitem","slug","key","title","mainPreview","GatsbyImage","image","gatsbyImageData","alt","description","itemName","itemPrice","toFixed","Store","_React$Component","_this","_len","arguments","length","args","Array","_key","call","state","cartItems","_inheritsLoose","_proto","prototype","componentDidMount","window","this","setState","JSON","parse","Cookies","get","render","imgFluid","storeItems","itemsInCart","isArray","Layout","location","props","SEO","doNotCrawl","HeaderImage","headerTitle","headerSubtitle","ShoppingCart","size","_sum","map","x","count","item","StoreItemPreview","module","exports","array","iteratee","result","index","current","undefined","baseSum","identity","_extends","Object","assign","i","source","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","forwardRef","ref","_ref$color","color","_ref$size","rest","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","d","propTypes","displayName"],"sourceRoot":""}