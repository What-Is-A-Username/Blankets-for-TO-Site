(self.webpackChunkblankets_for_to_site=self.webpackChunkblankets_for_to_site||[]).push([[500],{177:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(9854),i=n.n(r),a=n(3632),o=n.n(a),s=n(7294),c=Object.defineProperty,l=(e,t,n)=>(((e,t,n)=>{t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),u=new Map,m=new WeakMap,d=0,f=void 0;function p(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return`${t}_${"root"===t?(n=e.root,n?(m.has(n)||(d+=1,m.set(n,d.toString())),m.get(n)):"0"):e[t]}`;var n})).toString()}function h(e,t,n={},r=f){if(void 0===window.IntersectionObserver&&void 0!==r){const i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),()=>{}}const{id:i,observer:a,elements:o}=function(e){let t=p(e),n=u.get(t);if(!n){const r=new Map;let i;const a=new IntersectionObserver((t=>{t.forEach((t=>{var n;const a=t.isIntersecting&&i.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=a),null==(n=r.get(t.target))||n.forEach((e=>{e(a,t)}))}))}),e);i=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:a,elements:r},u.set(t,n)}return n}(n);let s=o.get(e)||[];return o.has(e)||o.set(e,s),s.push(t),a.observe(e),function(){s.splice(s.indexOf(t),1),0===s.length&&(o.delete(e),a.unobserve(e)),0===o.size&&(a.disconnect(),u.delete(i))}}s.Component;var v=e=>{let{children:t,fade:n=!1,bounce:r=!1,zoom:a=!1,animationDelay:c=100,animationDuration:l=500,onReveal:u,left:m=!1,right:d=!1,down:f=!1,up:p=!1,doNotJustifyContentCenter:v=!1,doNotAlignItemsCenter:g=!1,style:b={},className:y="",animIn:w=!0}=e;const{0:I,1:_}=(0,s.useState)(!1);c=o()([100,c]);const{ref:E,inView:N,entry:x}=function({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:i,triggerOnce:a,skip:o,initialInView:c,fallbackInView:l,onChange:u}={}){var m;const[d,f]=s.useState(null),p=s.useRef(),[v,g]=s.useState({inView:!!c,entry:void 0});p.current=u,s.useEffect((()=>{if(o||!d)return;let s;return s=h(d,((e,t)=>{g({inView:e,entry:t}),p.current&&p.current(e,t),t.isIntersecting&&a&&s&&(s(),s=void 0)}),{root:i,rootMargin:r,threshold:e,trackVisibility:n,delay:t},l),()=>{s&&s()}}),[Array.isArray(e)?e.toString():e,d,i,r,a,o,n,l,t]);const b=null==(m=v.entry)?void 0:m.target,y=s.useRef();d||!b||a||o||y.current===b||(y.current=b,g({inView:!!c,entry:void 0}));const w=[f,v.inView,v.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}({triggerOnce:!0,rootMargin:"-15% 0px",trackVisibility:!0,threshold:0,delay:100,onChange:(e,t)=>{e&&setTimeout((()=>{void 0!==u&&u(),_(!0)}),c)}}),k=!(m||d||f||p),O=!x||N&&I;return s.createElement("div",{ref:E,className:O?["animate__animated",...""!==y?[y]:[],...n&&k&&w?["animate__fadeIn"]:[],...n&&m&&w?["animate__fadeInLeft"]:[],...n&&d&&w?["animate__fadeInRight"]:[],...n&&f&&w?["animate__fadeInDown"]:[],...n&&p&&w?["animate__fadeInUp"]:[],...r&&k&&w?["animate__bounceIn"]:[],...r&&m&&w?["animate__bounceInLeft"]:[],...r&&d&&w?["animate__bounceInRight"]:[],...r&&f&&w?["animate__bounceInDown"]:[],...r&&p&&w?["animate__bounceInUp"]:[],...a&&k&&w?["animate__zoomIn"]:[],...a&&m&&w?["animate__zoomInLeft"]:[],...a&&d&&w?["animate__zoomInRight"]:[],...a&&f&&w?["animate__zoomInDown"]:[],...a&&p&&w?["animate__zoomInUp"]:[]].join(" "):"",style:(C={display:"flex",flexDirection:"column",width:"100%",height:"100%",minHeight:"1px",minWidth:"1px",justifyContent:v?"unset":"center","--animate-duration":i()(l/1e3,3).toString().concat("s")},S=Object.assign({},C,b),O||(S=Object.assign({},S,{opacity:0})),S)},t);var C,S}},4033:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7294),i=n(8032),a=n(177);var o=e=>{let{imgFluid:t,headerTitle:n,headerSubtitle:o}=e;return r.createElement("div",{className:"header-image-module--parent--fa4fc"},r.createElement(i.G,{image:t,className:"header-image-module--fluidImage--55cc4",alt:"Header image for "+n}),r.createElement("div",{className:"header-image-module--textBox--79e28"},r.createElement(a.Z,{fade:!0},r.createElement("h1",{className:"header-image-module--title--b14b3"},n),void 0===o||""!==o?r.createElement("p",{className:"header-image-module--subtitle--5b149"},o):r.createElement("p",null))))}},5158:function(e,t,n){"use strict";var r=n(7294),i=n(3936);const a=e=>{let{buttonText:t,link:n,isWhite:a,openInNewTab:o,children:s}=e;return r.createElement("a",{href:n,className:a?i.rY:i.ud,target:o?"_blank":"",rel:"noopener noreferrer"},t,s)};a.defaultProps={isWhite:!1,openInNewTab:!1},t.Z=a},4079:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(2297),i=n.n(r),a=n(7294),o=n(2851),s=n(7361),c=n.n(s),l=n(5739),u=n(3549),m=n(8032);var d=e=>{let{storeitem:t}=e;return a.createElement("a",{href:"/store/"+t.slug,className:"store-item-preview-module--alink--b4f0c",key:t.title},a.createElement("div",{className:"store-item-preview-module--preview--e66b4"},a.createElement("div",{className:"store-item-preview-module--previewImage--4ce72"},null!=t.mainPreview?a.createElement(m.G,{image:t.mainPreview.gatsbyImageData,alt:t.mainPreview.description}):null),a.createElement("div",{className:"store-item-preview-module--text--dcd34"},a.createElement("h3",{className:"store-item-preview-module--name--e55ff"},t.itemName),a.createElement("div",{className:"store-item-preview-module--price--72c44"},a.createElement("p",{className:"store-item-preview-module--priceAmount--c766d"},"$",t.itemPrice.toFixed(2)),a.createElement("p",{className:"store-item-preview-module--priceCurrency--2cbb0"},"CAD")))))},f=n(1955),p=n(4033),h=n(5158);class v extends a.Component{constructor(){super(...arguments),this.state={cartItems:[]}}componentDidMount(){"undefined"!=typeof window&&this.setState({cartItems:JSON.parse(f.Z.get("cart-items"))})}render(){const e=c()(this,"props.data.allContentfulHeaderImage.nodes[0].image.gatsbyImageData"),t=c()(this,"props.data.allContentfulMerchItem.nodes");var n=Array.isArray(this.state.cartItems)&&this.state.cartItems.length>0;return a.createElement(o.Z,{location:this.props.location},a.createElement(l.Z,{title:"Browse merchandise for Blankets for T.O.",description:"Browse Blankets for T.O. merchandise including masks and stickers. Purchases go towards funding donations and events.",doNotCrawl:!0}),a.createElement("div",{className:"white-background"},n?null:a.createElement(p.Z,{imgFluid:e,headerTitle:"Merchandise Store",headerSubtitle:"Purchases go towards funding donations for the homeless community."}),a.createElement("div",{className:"store-module--cartDisplay--edfe2"},a.createElement("div",{className:"store-module--cartDisplayInfo--fba2b"},a.createElement(u.Z,{size:64}),a.createElement("p",null,n?"There are "+i()(this.state.cartItems.map((e=>e.count)))+" items in your shopping cart.":"Browse items below and add them to your cart for checkout.")),n?a.createElement(h.Z,{buttonText:"View shopping cart",link:"/cart",openInNewTab:!1}):null),a.createElement("div",{className:"store-module--catalogue--ea063"},a.createElement("h3",{className:"store-module--catalogueTitle--0c94e"},"Our Catalogue"),a.createElement("div",{className:"store-module--catalogueContainer--2453d"},t.map((e=>a.createElement(d,{storeitem:e,key:e.itemName})))))))}}},6029:function(e,t,n){var r=n(3448);e.exports=function(e,t,n){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(void 0===c?s==s&&!r(s):n(s,c)))var c=s,l=o}return l}},433:function(e){e.exports=function(e,t){return e<t}},7762:function(e){e.exports=function(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);void 0!==a&&(n=void 0===n?a:n+a)}return n}},7561:function(e,t,n){var r=n(7990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},9179:function(e,t,n){var r=n(5639),i=n(554),a=n(4841),o=n(9833),s=r.isFinite,c=Math.min;e.exports=function(e){var t=Math[e];return function(e,n){if(e=a(e),(n=null==n?0:c(i(n),292))&&s(e)){var r=(o(e)+"e").split("e"),l=t(r[0]+"e"+(+r[1]+n));return+((r=(o(l)+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}},7990:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},6557:function(e){e.exports=function(e){return e}},3632:function(e,t,n){var r=n(6029),i=n(433),a=n(6557);e.exports=function(e){return e&&e.length?r(e,a,i):void 0}},9854:function(e,t,n){var r=n(9179)("round");e.exports=r},2297:function(e,t,n){var r=n(7762),i=n(6557);e.exports=function(e){return e&&e.length?r(e,i):0}},8601:function(e,t,n){var r=n(4841),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},554:function(e,t,n){var r=n(8601);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},4841:function(e,t,n){var r=n(7561),i=n(3218),a=n(3448),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):o.test(e)?NaN:+e}},3936:function(e,t,n){"use strict";n.d(t,{rY:function(){return i},ud:function(){return r}});var r="styled-button-module--primaryButton--0f3e8",i="styled-button-module--whiteButton--08a43"},3549:function(e,t,n){"use strict";var r=n(7294),i=n(5697),a=n.n(i);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,a=e.size,c=void 0===a?24:a,l=s(e,["color","size"]);return r.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r.createElement("circle",{cx:"9",cy:"21",r:"1"}),r.createElement("circle",{cx:"20",cy:"21",r:"1"}),r.createElement("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"}))}));c.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},c.displayName="ShoppingCart",t.Z=c}}]);
//# sourceMappingURL=component---src-pages-store-js-f1ff5741d7beac91367e.js.map