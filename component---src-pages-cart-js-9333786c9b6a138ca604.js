"use strict";(self.webpackChunkblankets_for_to_site=self.webpackChunkblankets_for_to_site||[]).push([[873],{4904:function(e,t,r){var n=r(7294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=(0,n.forwardRef)((function(e,t){var r=e.color,i=void 0===r?"currentColor":r,l=e.size,c=void 0===l?24:l,s=a(e,["color","size"]);return n.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),n.createElement("polyline",{points:"15 18 9 12 15 6"}))}));i.displayName="ChevronLeft",t.Z=i},1331:function(e,t,r){var n=r(7294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=(0,n.forwardRef)((function(e,t){var r=e.color,i=void 0===r?"currentColor":r,l=e.size,c=void 0===l?24:l,s=a(e,["color","size"]);return n.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),n.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),n.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))}));i.displayName="Copy",t.Z=i},4662:function(e,t,r){var n=r(7294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=(0,n.forwardRef)((function(e,t){var r=e.color,i=void 0===r?"currentColor":r,l=e.size,c=void 0===l?24:l,s=a(e,["color","size"]);return n.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),n.createElement("circle",{cx:"12",cy:"12",r:"10"}),n.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))}));i.displayName="Info",t.Z=i},7565:function(e,t,r){var n=r(7294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=(0,n.forwardRef)((function(e,t){var r=e.color,i=void 0===r?"currentColor":r,l=e.size,c=void 0===l?24:l,s=a(e,["color","size"]);return n.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),n.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),n.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));i.displayName="MinusSquare",t.Z=i},476:function(e,t,r){var n=r(7294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=(0,n.forwardRef)((function(e,t){var r=e.color,i=void 0===r?"currentColor":r,l=e.size,c=void 0===l?24:l,s=a(e,["color","size"]);return n.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),n.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),n.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),n.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));i.displayName="PlusSquare",t.Z=i},5500:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(7294),o=r(4904),a=function(e){var t=e.text,r=e.link;return n.createElement("a",{href:r,className:"back-arrow-module--arrowStyles--7RiFP"},n.createElement(o.Z,null),t)}},5017:function(e,t,r){r.r(t),r.d(t,{default:function(){return R}});var n=r(4578),o=r(7294),a=r(7361),i=r.n(a),l=r(3370),c=r(945),s="cart-module--checkoutStep--So1DS",u=r(2686),m=r(4841),p=r.n(m),f=r(7565),d=r(476),h="cart-item-module--countIcons--bWPSX",y=function(e){function t(){return e.apply(this,arguments)||this}return(0,n.Z)(t,e),t.prototype.render=function(){var e=this;return o.createElement("div",{className:"cart-item-module--parentContainer--60FC1"},o.createElement("div",{className:"cart-item-module--name--LF34L"},o.createElement("a",{href:"/store/"+this.props.cartItem.slug},this.props.cartItem.itemName)),o.createElement("p",{className:"cart-item-module--price--cTlmP"},"$",this.props.cartItem.isMember?this.props.cartItem.memberItemPrice.toFixed(2):this.props.cartItem.itemPrice.toFixed(2)),o.createElement("div",{className:"cart-item-module--count--PrBgP"},this.props.canChange&&o.createElement(f.Z,{className:h,onClick:function(){return e.props.minusQuantity(e.props.cartItem)}}),o.createElement("p",null,p()(this.props.cartItem.count.toFixed())),this.props.canChange&&o.createElement(d.Z,{className:h,onClick:function(){return e.props.plusQuantity(e.props.cartItem)}})),o.createElement("p",{className:"cart-item-module--total--eqfuC"},"$",this.props.cartItem.total.toFixed(2)))},t}(o.Component),v=y,g=r(5918);function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}function w(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var E=(0,o.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,i=void 0===a?24:a,l=w(e,["color","size"]);return o.createElement("svg",b({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),o.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),o.createElement("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}))}));E.displayName="DollarSign";var O=E;function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x.apply(this,arguments)}function k(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var j=(0,o.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,i=void 0===a?24:a,l=k(e,["color","size"]);return o.createElement("svg",x({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),o.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),o.createElement("polyline",{points:"12 19 5 12 12 5"}))}));j.displayName="ArrowLeft";var I=j;function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C.apply(this,arguments)}function S(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var N=(0,o.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,i=void 0===a?24:a,l=S(e,["color","size"]);return o.createElement("svg",C({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),o.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),o.createElement("polyline",{points:"12 5 19 12 12 19"}))}));N.displayName="ArrowRight";var P=N,L=r(4662),M=r(1331),B=r(5500),Z=r(6656),R=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call(this,...n)||this).allItems=i()(t.props,"data.allContentfulMerchItem.nodes"),t.state={step:0,refresh:!1,isMember:!1,copied:!1,cartItems:[]},t.changeMembershipStatus=function(){t.setState({isMember:!t.state.isMember})},t.plusQuantity=function(e){var r=t.state.cartItems,n=r.find((function(t){return t.slug===e.slug}));void 0!==n&&(n.count+=1,t.updateCookies(r),t.setState({cartItems:r}))},t.minusQuantity=function(e){var r=t.state.cartItems,n=r.find((function(t){return t.slug===e.slug}));void 0!==n&&(n.count-=1,r=r.filter((function(e){return e.count>0})),t.updateCookies(r),t.setState({cartItems:r}))},t.updateCookies=function(e){if("undefined"!=typeof window){var t=e.map((function(e){return{slug:e.slug,count:e.count}}));u.Z.set("cart-items",JSON.stringify(t),{path:"/"})}},t.next=function(){t.setState({step:t.state.step+1})},t.previous=function(){t.setState({step:Math.max(t.state.step-1,0)})},t.checkoutProcessStep=function(e,r){return o.createElement("div",{className:s},t.state.step===r?o.createElement(Z.Z,{fade:!0},o.createElement("h1",null,"Step ",r),e):o.createElement(o.Fragment,null,o.createElement("h1",null,"Step ",r),e))},t.generateList=function(e){var r=t.state.cartItems.length>0?t.state.cartItems.map((function(e){var r=t.allItems.find((function(t){return t.slug===e.slug}));return Object.assign({isMember:t.state.isMember,count:e.count,total:(t.state.isMember?r.memberItemPrice:r.itemPrice)*e.count},r)})).filter((function(e){return 0!==e.count})):[],n=r.length>0?r.map((function(e){return e.total})).reduce((function(e,t){return e+t}),0):0,o=["ORDER DETAILS:"];return(o=(o=o.concat(r.map((function(e){return"Item Name: "+e.itemName+" Price: $"+e.itemPrice.toFixed(2)+" Quantity: "+e.count+" Total: $"+e.total.toFixed(2)})))).concat(["GRAND TOTAL: $"+n.toFixed(2)])).join("\r\n")},t.copyOrderList=function(e){if("undefined"!=typeof window&&document.queryCommandSupported&&document.queryCommandSupported("copy")){var r=document.createElement("textarea");r.textContent=t.generateList(e),r.style.position="fixed",document.body.appendChild(r),r.select();try{return document.execCommand("copy")}catch(n){return prompt("Copy to clipboard: Ctrl+C, Enter")}finally{document.body.removeChild(r),t.setState({copied:!0},(function(){return setTimeout((function(){return t.setState({copied:!1})}),2e3)}))}}},t}(0,n.Z)(t,e);var r=t.prototype;return r.componentDidMount=function(){if("undefined"!=typeof window){var e=JSON.parse(u.Z.get("cart-items"));this.setState({cartItems:e})}else this.setState({cartItems:[]})},r.render=function(){var e=this,t="https://forms.gle/6pMnKaWJMQKRrwY77",r="https://www.interac.ca/en/consumers/products/interac-e-transfer/",n=this.state.cartItems.length>0,a=this.state.cartItems.length>0?this.state.cartItems.map((function(t){var r=e.allItems.find((function(e){return e.slug===t.slug}));return Object.assign({isMember:e.state.isMember,count:t.count,total:(e.state.isMember?r.memberItemPrice:r.itemPrice)*t.count},r)})).filter((function(e){return 0!==e.count})):[],i=a.length>0?a.map((function(e){return e.total})).reduce((function(e,t){return e+t}),0):0;return o.createElement(c.Z,{location:this.props.location},o.createElement(l.Z,{title:"Your Cart",description:"Browse items in your shopping cart.",doNotCrawl:!0}),o.createElement("div",{className:"white-background"},o.createElement("div",{className:"wrapper"},o.createElement("h2",null,"Your Shopping Cart"),o.createElement("div",{style:{visibility:n?"visible":"hidden",height:n?"auto":0}},o.createElement(B.Z,{text:"Continue shopping",link:"/store"}),o.createElement("div",{className:"cart-module--header--eODKQ"},o.createElement("p",{className:"cart-module--name--oiUXO"},"Item"),o.createElement("p",{className:"cart-module--price---EUfh"},"Price"),o.createElement("div",{className:"cart-module--countHeader--4BnEt"},o.createElement("p",null,"Quantity")),o.createElement("p",{className:"cart-module--total--I7JaJ"},"Total")),o.createElement("div",{className:"cart-module--cartList--eaEXx"},a.length>0?a.map((function(t){return o.createElement(v,{cartItem:t,plusQuantity:function(t){return e.plusQuantity(t)},minusQuantity:function(t){return e.minusQuantity(t)},canChange:0===e.state.step})})):null),o.createElement("div",{className:"cart-module--totalBar--Y3taJ"},o.createElement("div",{className:"cart-module--totalTitle--BuPvF"},o.createElement("p",null,"Grand Total")),o.createElement("p",{className:"cart-module--totalNumber--+O909"},"$",i.toFixed(2))),o.createElement("div",{style:{margin:"5vh 0"}},o.createElement("div",{className:"cart-module--memberDiscountInfo--q+Iov"},o.createElement(L.Z,{className:"cart-module--infoIcon--jXSR4"}),o.createElement("p",null,"Are you a member of Blankets for T.O.? Members are eligible for a discount on applicable items. ",o.createElement("a",{href:"/positions"},"More info here."))),o.createElement("div",{className:"cart-module--memberDiscountBox--m6niW"},o.createElement("input",{type:"checkbox",id:"membership",name:"membership",value:"Membership",onChange:function(){return e.changeMembershipStatus()}}),o.createElement("label",{for:"membership"}," I am a member of Blankets for T.O."))),0===this.state.step&&n?o.createElement("div",{className:"cart-module--proceedToCheckout--A8Bl7"},o.createElement("p",null,"Confirm your cart items before proceeding to checkout."),o.createElement("div",{className:g.ud,onClick:this.next},o.createElement(O,{style:{margin:"0 5px"}}),"Proceed to Checkout")):null,this.state.step>=1?this.checkoutProcessStep(o.createElement(o.Fragment,null,o.createElement("p",null,"Confirm your cart items before proceeding to checkout."),o.createElement("div",null,o.createElement("p",null,this.generateList(this.state.cartItems,i)))),1):null,this.state.step>=2?this.checkoutProcessStep(o.createElement(o.Fragment,null,o.createElement("p",null,"In order to finish sending your order, you will need to complete a Google form. Read below for more information."),o.createElement("p",null,"When prompted by the form to copy your order details, copy your order by pressing below."),o.createElement("div",{className:g.ud,onClick:function(){return e.copyOrderList(i)}},o.createElement(M.Z,{style:{margin:"0 5px"}}),this.state.copied?"Order copied to clipboard!":"Copy order details"),o.createElement("p",null,"To complete the form, you will have to pay the order via Interact e-transfer. Learn more about e-transfer and payment security here: "),o.createElement("a",{href:r},r),o.createElement("p",null,"The link to the form is found below:"),o.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},t)),2):null,3===this.state.step?this.checkoutProcessStep(o.createElement(o.Fragment,null,o.createElement("p",null,"Have you submitted the form? If so, your order is now being processed! Thank you for your contribution to Blankets for T.O.!"),o.createElement("p",null,"To stay updated on the status of your order, please look out for emails from blanketsforto @ gmail.com. Send us an email to inquire about your order status and order pickup arrangements.")),3):null,o.createElement("div",{className:"cart-module--buttonRow--9AeSA"},this.state.step>=1&&this.state.step<=2?o.createElement("div",{className:g.ud,onClick:this.previous},o.createElement(I,{style:{margin:"0 5px"}}),"Previous"):null,this.state.step>=1&&this.state.step<=2?o.createElement("div",{className:g.ud,onClick:this.next},"Next",o.createElement(P,{style:{margin:"0 5px"}})):null)),o.createElement("div",{className:"cart-module--emptyCart--7Gt4n",style:{visibility:n?"hidden":"visible"}},o.createElement("p",null,"There are no items in your shopping cart."),o.createElement(B.Z,{text:"Go back to the store page",link:"/store"})))))},t}(o.Component)},5918:function(e,t,r){r.d(t,{rY:function(){return o},ud:function(){return n}});var n="styled-button-module--primaryButton--Dz6IR",o="styled-button-module--whiteButton--CKQxd"}}]);
//# sourceMappingURL=component---src-pages-cart-js-9333786c9b6a138ca604.js.map