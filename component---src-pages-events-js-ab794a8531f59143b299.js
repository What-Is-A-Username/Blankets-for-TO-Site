(self.webpackChunkblankets_for_to_site=self.webpackChunkblankets_for_to_site||[]).push([[651],{9341:function(e,t,n){"use strict";var a=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&a((function(){n.call(null,t||function(){return 1},1)}))}},1589:function(e,t,n){"use strict";var a=n(1400),r=n(6244),o=n(6135),i=Array,l=Math.max;e.exports=function(e,t,n){for(var c=r(e),u=a(t,c),s=a(void 0===n?c:n,c),m=i(l(s-u,0)),p=0;u<s;u++,p++)o(m,p,e[u]);return m.length=p,m}},4362:function(e,t,n){"use strict";var a=n(1589),r=Math.floor,o=function(e,t){var n=e.length,c=r(n/2);return n<8?i(e,t):l(e,o(a(e,0,c),t),o(a(e,c),t),t)},i=function(e,t){for(var n,a,r=e.length,o=1;o<r;){for(a=o,n=e[o];a&&t(e[a-1],n)>0;)e[a]=e[--a];a!==o++&&(e[a]=n)}return e},l=function(e,t,n,a){for(var r=t.length,o=n.length,i=0,l=0;i<r||l<o;)e[i+l]=i<r&&l<o?a(t[i],n[l])<=0?t[i++]:n[l++]:i<r?t[i++]:n[l++];return e};e.exports=o},648:function(e,t,n){"use strict";var a=n(1694),r=n(614),o=n(4326),i=n(5112)("toStringTag"),l=Object,c="Arguments"==o(function(){return arguments}());e.exports=a?o:function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=l(e),i))?n:c?o(t):"Object"==(a=o(t))&&r(t.callee)?"Arguments":a}},6135:function(e,t,n){"use strict";var a=n(4948),r=n(3070),o=n(9114);e.exports=function(e,t,n){var i=a(t);i in e?r.f(e,i,o(0,n)):e[i]=n}},5117:function(e,t,n){"use strict";var a=n(6330),r=TypeError;e.exports=function(e,t){if(!delete e[t])throw r("Cannot delete property "+a(t)+" of "+a(e))}},8886:function(e,t,n){"use strict";var a=n(8113).match(/firefox\/(\d+)/i);e.exports=!!a&&+a[1]},256:function(e,t,n){"use strict";var a=n(8113);e.exports=/MSIE|Trident/.test(a)},8008:function(e,t,n){"use strict";var a=n(8113).match(/AppleWebKit\/(\d+)\./);e.exports=!!a&&+a[1]},1694:function(e,t,n){"use strict";var a={};a[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(a)},1340:function(e,t,n){"use strict";var a=n(648),r=String;e.exports=function(e){if("Symbol"===a(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},2707:function(e,t,n){"use strict";var a=n(2109),r=n(1702),o=n(9662),i=n(7908),l=n(6244),c=n(5117),u=n(1340),s=n(7293),m=n(4362),p=n(9341),d=n(8886),f=n(256),v=n(7392),g=n(8008),h=[],D=r(h.sort),y=r(h.push),b=s((function(){h.sort(void 0)})),E=s((function(){h.sort(null)})),C=p("sort"),N=!s((function(){if(v)return v<70;if(!(d&&d>3)){if(f)return!0;if(g)return g<603;var e,t,n,a,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(a=0;a<47;a++)h.push({k:t+a,v:n})}for(h.sort((function(e,t){return t.v-e.v})),a=0;a<h.length;a++)t=h[a].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}}));a({target:"Array",proto:!0,forced:b||!E||!C||!N},{sort:function(e){void 0!==e&&o(e);var t=i(this);if(N)return void 0===e?D(t):D(t,e);var n,a,r=[],s=l(t);for(a=0;a<s;a++)a in t&&y(r,t[a]);for(m(r,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}}(e)),n=l(r),a=0;a<n;)t[a]=r[a++];for(;a<s;)c(t,a++);return t}})},1250:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var a=n(1721),r=(n(2707),n(7294)),o=n(5739),i=n(2851),l=n(4033),c=n(8032),u="event-popup-module--subtitle--1d8eb",s=n(8268),m=function(e){function t(){return e.apply(this,arguments)||this}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.eventData,n=e.onClose,a=t.articles?t.articles.map((function(e){var t=e.sys.contentType.sys.id;return"blogPost"===t?Object.assign({},e,{type:e.articleType,fullSlug:"/blog/"+e.slug}):"page"===t?Object.assign({},e,{type:"Page",fullSlug:"/pages/"+e.slug}):Object.assign({},e,{type:"Link",fullSlug:"/"+slug})})):[];return r.createElement("div",{className:"event-popup-module--background--623c9"},r.createElement("div",{className:"event-popup-module--blocker--db879",onClick:n,ref:this.popupBlocker}),r.createElement("div",{ref:this.modalRef,className:"event-popup-module--modal--5782b"},r.createElement("div",{className:"event-popup-module--modalPadding--d3803"},r.createElement("div",{className:"event-popup-module--modalContent--24fb9"},r.createElement("h1",{className:"event-popup-module--title--0d69f"},t.eventName),r.createElement("div",{className:"event-popup-module--modalLayout--1ddbb"},r.createElement("div",{className:"event-popup-module--image--620d4"},r.createElement(c.G,{alt:t.smallPreviewImage.description,image:t.smallPreviewImage.gatsbyImageData})),r.createElement("div",{className:"event-popup-module--textContent--e473e"},r.createElement("div",{className:"event-popup-module--description--9c19f",dangerouslySetInnerHTML:{__html:t.description.childMarkdownRemark.html}}),r.createElement("strong",{className:u},"When is it?"),r.createElement("p",{className:"event-popup-module--datetime--b2217"},"Date and time to be announced"!==t.eventDate?t.eventDate+" to "+t.endDate:"Date and time to be announced."),r.createElement("strong",{className:u},"Where is it?"),r.createElement("div",{className:"event-popup-module--location--3f925",dangerouslySetInnerHTML:{__html:t.location.childMarkdownRemark.html}}),a.length>0&&r.createElement(r.Fragment,null,r.createElement("strong",{className:u},"Read more"),a.map((function(e){return r.createElement("div",{key:e.fullSlug},r.createElement("span",null,"(",e.type,") ",r.createElement("a",{className:"event-popup-module--articleLink--96f47",href:e.fullSlug},e.title)))}))))),r.createElement(s.Z,{className:"event-popup-module--closeButton--1127e",onClick:n,size:40})))))},t}(r.Component),p=m,d=function(e){var t=e.eventData,n=e.onClickEvent;return r.createElement("div",{className:"event-card-module--card--40355",onClick:n},r.createElement("div",{className:"event-card-module--image--76f18"},r.createElement(c.G,{image:t.smallPreviewImage.gatsbyImageData,alt:t.smallPreviewImage.description})),r.createElement("div",{className:"event-card-module--textContent--51fe4"},r.createElement("h3",{className:"event-card-module--title--27f4b"},t.eventName),r.createElement("p",{className:"event-card-module--datetime--b9fec"},t.eventDate)),r.createElement("p",{className:"event-card-module--readMoreLine--4d6fd"},"Read more"))},f="events-module--gridLayout--18120",v=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClickEvent=function(e,t){document.getElementsByTagName("body")[0].style.overflowY="hidden",n.setState({popupActive:!0,popupCategory:e,popupIndex:t})},n.onClosePopup=function(){n.setState({popupActive:!1}),document.getElementsByTagName("body")[0].style.overflowY="scroll"},n.dateTimeFormatter=Intl.DateTimeFormat("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"}),n.dateFormatter=Intl.DateTimeFormat("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),n.timeFormatter=Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",timeZoneName:"short"}),n.state={popupActive:!1,popupCategory:void 0,popupIndex:void 0},n.UPCOMING="upcoming",n.PAST="past",n}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this,t=this.props.data.allContentfulHeaderImage.nodes[0].image.gatsbyImageData,n="Events Calendar",a=this.props.data.allContentfulEvents.nodes,c=Date.now(),u=(a=a.map((function(t){var n=new Date(t.eventDate),a=new Date(t.endDate);return t.eventDate&&t.endDate?n.getMonth()!=a.getMonth()||n.getDate()!=a.getDate()?Object.assign({},t,{eventDateVal:new Date(t.eventDate),endDateVal:new Date(t.endDate),startDate:e.dateTimeFormatter.format(new Date(t.startDate)),eventDate:e.dateFormatter.format(n),endDate:e.dateFormatter.format(a)}):Object.assign({},t,{eventDateVal:new Date(t.eventDate),endDateVal:new Date(t.endDate),startDate:e.dateTimeFormatter.format(new Date(t.startDate)),eventDate:e.dateTimeFormatter.format(n),endDate:e.timeFormatter.format(a)}):Object.assign({},t,{eventDateVal:0,endDateVal:0,startDate:e.dateTimeFormatter.format(new Date(t.startDate)),eventDate:"Date and time to be announced",endDate:"Date and time to be announced"})}))).filter((function(e){return 0===e.eventDateVal||e.endDateVal>c})).sort((function(e,t){var n=e.eventDateVal,a=t.eventDateVal;return n===a?0:0===n?1:0===a||n<a?-1:1})),s=a.filter((function(e){return 0!==e.eventDateVal&&e.endDateVal<c})).sort((function(e,t){return t.eventDateVal-e.eventDateVal}));return r.createElement(i.Z,{location:this.props.location},r.createElement(o.Z,{title:n,description:"Browse upcoming and past events from Blankets for T.O."}),r.createElement(l.Z,{imgFluid:t,headerTitle:n}),this.state.popupActive&&this.state.popupCategory==this.UPCOMING&&r.createElement(p,{eventData:u[this.state.popupIndex],onClose:function(){return e.onClosePopup()}}),this.state.popupActive&&this.state.popupCategory==this.PAST&&r.createElement(p,{eventData:s[this.state.popupIndex],onClose:function(){return e.onClosePopup()}}),r.createElement("div",{className:"wrapper"},r.createElement("h2",null,"Upcoming"),r.createElement("div",{className:f},u.map((function(t,n){return r.createElement(d,{key:"Upcoming Event "+n,eventData:t,onClickEvent:function(){return e.onClickEvent(e.UPCOMING,n)}})})),0===u.length&&r.createElement("p",null,"Unfortunately, there are no upcoming events scheduled soon. Check back soon, follow us or join our mailing list for event announcements.")),r.createElement("div",null),s.length>0&&r.createElement("div",null,r.createElement("h2",null,"Recent"),r.createElement("div",{className:f},s.map((function(t,n){return r.createElement(d,{key:"Recent Event "+n,eventData:t,onClickEvent:function(){return e.onClickEvent(e.PAST,n)}})}))))))},t}(r.Component),g=v},2705:function(e,t,n){var a=n(5639).Symbol;e.exports=a},9932:function(e){e.exports=function(e,t){for(var n=-1,a=null==e?0:e.length,r=Array(a);++n<a;)r[n]=t(e[n],n,e);return r}},4239:function(e,t,n){var a=n(2705),r=n(9607),o=n(2333),i=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?r(e):o(e)}},531:function(e,t,n){var a=n(2705),r=n(9932),o=n(1469),i=n(3448),l=a?a.prototype:void 0,c=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return r(t,e)+"";if(i(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},1957:function(e,t,n){var a="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=a},9607:function(e,t,n){var a=n(2705),r=Object.prototype,o=r.hasOwnProperty,i=r.toString,l=a?a.toStringTag:void 0;e.exports=function(e){var t=o.call(e,l),n=e[l];try{e[l]=void 0;var a=!0}catch(c){}var r=i.call(e);return a&&(t?e[l]=n:delete e[l]),r}},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:function(e,t,n){var a=n(1957),r="object"==typeof self&&self&&self.Object===Object&&self,o=a||r||Function("return this")();e.exports=o},1469:function(e){var t=Array.isArray;e.exports=t},3218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},3448:function(e,t,n){var a=n(4239),r=n(7005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==a(e)}},9833:function(e,t,n){var a=n(531);e.exports=function(e){return null==e?"":a(e)}}}]);
//# sourceMappingURL=component---src-pages-events-js-ab794a8531f59143b299.js.map