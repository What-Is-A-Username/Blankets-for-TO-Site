(self.webpackChunkblankets_for_to_site=self.webpackChunkblankets_for_to_site||[]).push([[873],{1919:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(7294),o=r(2528);var a=e=>{let{text:t,link:r}=e;return n.createElement("a",{href:r,className:"back-arrow-module--arrowStyles--ed188"},n.createElement(o.Z,null),t)}},5158:function(e,t,r){"use strict";var n=r(7294),o=r(3936);const a=e=>{let{buttonText:t,link:r,isWhite:a,openInNewTab:i,children:s}=e;return n.createElement("a",{href:r,className:a?o.rY:o.ud,target:i?"_blank":"",rel:"noopener noreferrer"},t,s)};a.defaultProps={isWhite:!1,openInNewTab:!1},t.Z=a},3215:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var n=r(7294),o=r(7361),a=r.n(o),i=r(5739),s=r(2851),l=r(1919),c=r(1955),u=r(4841),m=r.n(u),p=r(4423),d=r(2294),f="cart-item-module--countIcons--6d63d";class h extends n.Component{render(){const{cartItem:e,minusQuantity:t,plusQuantity:r}=this.props;return n.createElement("div",{className:"cart-item-module--parentContainer--eb414"},n.createElement("div",{className:"cart-item-module--name--2c5df"},n.createElement("a",{href:"/store/"+e.slug},e.itemName)),n.createElement("p",{className:"cart-item-module--price--71396"},"$",e.isMember?e.memberItemPrice.toFixed(2):e.itemPrice.toFixed(2)),n.createElement("div",{className:"cart-item-module--count--3eb06"},n.createElement(p.Z,{className:f,onClick:()=>t(e)}),n.createElement("p",null,m()(e.count.toFixed())),n.createElement(d.Z,{className:f,onClick:()=>r(e)})),n.createElement("p",{className:"cart-item-module--total--7aa7e"},"$",e.total.toFixed(2)))}}var y=h,v=r(3973),b=r(9737),g=r(9046),w=r(5158),E=r(3936),O="cart-module--layoutHeader--86f27";class x extends n.Component{constructor(){super(...arguments),this.allItems=a()(this.props,"data.allContentfulMerchItem.nodes"),this.state={refresh:!1,isMember:!1,copied:!1,cartItems:[]},this.changeMembershipStatus=()=>{this.setState({isMember:!this.state.isMember})},this.plusQuantity=e=>{var t=this.state.cartItems,r=t.find((t=>t.slug===e.slug));void 0!==r&&(r.count+=1,this.updateCookies(t),this.setState({cartItems:t}))},this.minusQuantity=e=>{var t=this.state.cartItems,r=t.find((t=>t.slug===e.slug));void 0!==r&&(r.count-=1,t=t.filter((e=>e.count>0)),this.updateCookies(t),this.setState({cartItems:t}))},this.updateCookies=e=>{if("undefined"!=typeof window){var t=e.map((e=>({slug:e.slug,count:e.count})));c.Z.set("cart-items",JSON.stringify(t),{path:"/"})}},this.generateList=()=>{var e=this.state.cartItems.length>0?this.state.cartItems.map((e=>{var t=this.allItems.find((t=>t.slug===e.slug));return{isMember:this.state.isMember,count:e.count,total:(this.state.isMember?t.memberItemPrice:t.itemPrice)*e.count,...t}})).filter((e=>0!==e.count)):[],t=e.length>0?e.map((e=>e.total)).reduce(((e,t)=>e+t),0):0,r=["ORDER DETAILS:"];return(r=(r=r.concat(e.map((e=>"Item Name: "+e.itemName+" Price: $"+e.itemPrice.toFixed(2)+" Quantity: "+e.count+" Total: $"+e.total.toFixed(2))))).concat(["GRAND TOTAL: $"+t.toFixed(2)])).join("\r\n")},this.copyOrderList=e=>{if("undefined"!=typeof window&&document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=this.generateList(e),t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(r){return prompt("Copy to clipboard: Ctrl+C, Enter")}finally{document.body.removeChild(t),this.setState({copied:!0},(()=>setTimeout((()=>this.setState({copied:!1})),2e3)))}}}}componentDidMount(){if("undefined"!=typeof window){var e=JSON.parse(c.Z.get("cart-items"));this.setState({cartItems:e})}else this.setState({cartItems:[]})}render(){var e=this.state.cartItems.length>0,t=this.state.cartItems.length>0?this.state.cartItems.map((e=>{var t=this.allItems.find((t=>t.slug===e.slug));return{isMember:this.state.isMember,count:e.count,total:(this.state.isMember?t.memberItemPrice:t.itemPrice)*e.count,...t}})).filter((e=>0!==e.count)):[],r=t.length>0?t.map((e=>e.total)).reduce(((e,t)=>e+t),0):0;return n.createElement(s.Z,{location:this.props.location},n.createElement(i.Z,{title:"Your Cart",description:"Browse items in your shopping cart.",doNotCrawl:!0}),n.createElement("div",{className:"white-background"},n.createElement("div",{className:"wrapper"},n.createElement(l.Z,{text:e?"Continue browsing":"Browse items",link:"/store"}),n.createElement("div",{className:"cart-module--layout--19345"},!e&&n.createElement("div",{className:"cart-module--emptyCart--ec6b7"},n.createElement("p",null,"There are no items in your shopping cart.")),n.createElement("div",{className:e?"cart-module--cartFull--f2f95":"cart-module--cartEmpty--21f28"},n.createElement("h2",{className:O},"Order Cart"),n.createElement("div",{className:"cart-module--header--78e0c"},n.createElement("p",{className:"cart-module--name--a2251"},"Item"),n.createElement("p",{className:"cart-module--price--fc451"},"Price"),n.createElement("div",{className:"cart-module--countHeader--e019c"},n.createElement("p",{className:"cart-module--count--24b4d"},"Quantity")),n.createElement("p",{className:"cart-module--total--23b25"},"Total")),n.createElement("div",{className:"cart-module--cartList--79a11"},t.length>0&&t.map((e=>n.createElement(y,{cartItem:e,plusQuantity:e=>this.plusQuantity(e),minusQuantity:e=>this.minusQuantity(e),key:e.slug})))),n.createElement("div",{className:"cart-module--totalBar--637b5"},n.createElement("div",{className:"cart-module--totalTitle--06e3e"},n.createElement("p",null,"Grand Total")),n.createElement("p",{className:"cart-module--totalNumber--f8ef7"},"$",r.toFixed(2)))),e&&n.createElement("div",{className:"cart-module--checkoutPane--a3325"},n.createElement("h2",{className:O},"Checkout"),n.createElement("div",{className:"cart-module--memberDiscountInfo--abe22"},n.createElement(v.Z,{className:"cart-module--infoIcon--8d749"}),n.createElement("a",{href:"/positions"},"Are you a member of Blankets for T.O.?")),n.createElement("div",{className:"cart-module--memberDiscountBox--9ba9e"},n.createElement("input",{type:"checkbox",id:"membership",name:"membership",value:"Membership",onChange:()=>this.changeMembershipStatus()}),n.createElement("label",{htmlFor:"membership"},"Yes, claim member discount")),n.createElement("div",{className:"cart-module--checkoutText--e23e6"},n.createElement("span",null,"Step 1: Check"),n.createElement("p",null,"Look over and double-check your order cart."),n.createElement("span",null,"Step 2: Send"),n.createElement("p",null,"To send your order, copy your order details and use it to fill out our Google Form"),n.createElement("div",{className:E.ud+" cart-module--copyOrderDetails--8a62b",onClick:()=>this.copyOrderList(r)},this.state.copied?"Order copied to clipboard!":"Copy order details",n.createElement(b.Z,{style:{margin:"0 5px"}})),n.createElement(w.Z,{openInNewTab:!0,link:"https://forms.gle/6pMnKaWJMQKRrwY77",buttonText:""},"Go to Google Form",n.createElement(g.Z,{style:{margin:"0 5px"}})),n.createElement("span",null,"Step 3: Done!"),n.createElement("p",null,"If the form has been submitted, your order is now being processed. Thanks for your support!"),n.createElement("p",null,"To stay updated on the status of your order, please look out for emails from us. You will receive an email about your order status and pickup arrangements.")))))))}}},7561:function(e,t,r){var n=r(7990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(o,""):e}},7990:function(e){var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},4841:function(e,t,r){var n=r(7561),o=r(3218),a=r(3448),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||l.test(e)?c(e.slice(2),r?2:8):i.test(e)?NaN:+e}},3936:function(e,t,r){"use strict";r.d(t,{rY:function(){return o},ud:function(){return n}});var n="styled-button-module--primaryButton--0f3e8",o="styled-button-module--whiteButton--08a43"},2528:function(e,t,r){"use strict";var n=r(7294),o=r(5697),a=r.n(o);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=(0,n.forwardRef)((function(e,t){var r=e.color,o=void 0===r?"currentColor":r,a=e.size,l=void 0===a?24:a,c=s(e,["color","size"]);return n.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),n.createElement("polyline",{points:"15 18 9 12 15 6"}))}));l.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},l.displayName="ChevronLeft",t.Z=l},9737:function(e,t,r){"use strict";var n=r(7294),o=r(5697),a=r.n(o);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=(0,n.forwardRef)((function(e,t){var r=e.color,o=void 0===r?"currentColor":r,a=e.size,l=void 0===a?24:a,c=s(e,["color","size"]);return n.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),n.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),n.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))}));l.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},l.displayName="Copy",t.Z=l},9046:function(e,t,r){"use strict";var n=r(7294),o=r(5697),a=r.n(o);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=(0,n.forwardRef)((function(e,t){var r=e.color,o=void 0===r?"currentColor":r,a=e.size,l=void 0===a?24:a,c=s(e,["color","size"]);return n.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),n.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),n.createElement("polyline",{points:"15 3 21 3 21 9"}),n.createElement("line",{x1:"10",y1:"14",x2:"21",y2:"3"}))}));l.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},l.displayName="ExternalLink",t.Z=l},3973:function(e,t,r){"use strict";var n=r(7294),o=r(5697),a=r.n(o);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=(0,n.forwardRef)((function(e,t){var r=e.color,o=void 0===r?"currentColor":r,a=e.size,l=void 0===a?24:a,c=s(e,["color","size"]);return n.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),n.createElement("circle",{cx:"12",cy:"12",r:"10"}),n.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))}));l.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},l.displayName="Info",t.Z=l},4423:function(e,t,r){"use strict";var n=r(7294),o=r(5697),a=r.n(o);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=(0,n.forwardRef)((function(e,t){var r=e.color,o=void 0===r?"currentColor":r,a=e.size,l=void 0===a?24:a,c=s(e,["color","size"]);return n.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),n.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),n.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));l.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},l.displayName="MinusSquare",t.Z=l},2294:function(e,t,r){"use strict";var n=r(7294),o=r(5697),a=r.n(o);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=(0,n.forwardRef)((function(e,t){var r=e.color,o=void 0===r?"currentColor":r,a=e.size,l=void 0===a?24:a,c=s(e,["color","size"]);return n.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),n.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),n.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),n.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));l.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},l.displayName="PlusSquare",t.Z=l}}]);
//# sourceMappingURL=component---src-pages-cart-js-5fe3e380c1d4b00af161.js.map