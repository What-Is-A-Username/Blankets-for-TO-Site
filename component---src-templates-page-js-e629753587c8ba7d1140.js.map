{"version":3,"file":"component---src-templates-page-js-e629753587c8ba7d1140.js","mappings":"kQAeMA,EAAAA,SAAAA,GAAAA,SAAAA,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,YAAAA,IAAAA,CA8CJ,OA9CIA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,EAAAA,UAELC,OAAA,WAAU,IAAD,EACFC,EAAOC,IAAIC,KAAKC,MAAO,uBAEvBC,EAAS,IAAIC,IAAIL,EAAKM,aAAaC,WAAWC,KAAI,SAAAC,GAAG,MAAI,CAACA,EAAIC,cAAcD,EAAvB,KACrDE,EAAU,CACfC,YAAU,OACRC,EAAAA,OAAAA,gBAAwB,SAAAC,GACxB,IAAMC,EAAOX,EAAOH,IAAIa,EAAKC,KAAKC,OAAOC,IAAIC,IAC7C,GAAIH,EAAKI,KAAKC,YAAYC,WAAW,UACpC,OAAO,gBAAC,IAAD,CAAiBC,gBAAiBP,EAAKO,gBAAiBC,MAAOR,EAAKQ,MAAOC,YAAaT,EAAKS,aAErG,EANQ,IAULC,EAAe,CACpB,0BAAQC,OAAK,EAACC,IAAI,0CAA0CC,QAAQ,UACpE,uBAAKV,GAAG,YACR,0BAAQQ,OAAK,EAACG,OAAK,EAACC,YAAY,YAAYH,IAAI,kEAAkEI,MAAM,cAGzH,OACC,gBAAC,IAAD,CAAQC,SAAU9B,KAAKC,MAAM6B,UAC5B,uBAAKC,UAAU,oBACd,gBAAC,IAAD,CACCV,MAAOvB,EAAKuB,MACZW,SAAS,UACTV,YAAaxB,EAAKwB,YAAYW,oBAAoBC,gBAClDC,cAAeZ,EACfa,YAAatC,EAAKuC,qBAClBC,UAAWxC,EAAKyC,aAAatB,KAAKuB,MAEnC,uBAAKT,UAAU,WACd,sBAAIA,UAAWU,EAAAA,IAAe3C,EAAKuB,OACnC,uBAAKU,UAAU,WAAWU,OAAQ,CAACC,SAAU,UACtB,MAArB5C,EAAKM,cAAuBuC,EAAAA,EAAAA,GAA0BC,KAAKC,MAAM/C,EAAKM,aAAa0C,KAAMrC,GAAW,uDAEtG,gBAAC,IAAD,CAAaqB,SAAU,iCAAmChC,EAAKiD,OAC/D,sBAAIhB,UAAWU,EAAAA,KACf,gBAAC,IAAD,CAAgBO,YAAalD,EAAKiD,SAKtC,IA9CInD,CAAqBqD,EAAAA,WAiD3B,W","sources":["webpack://blankets-for-to-site/./src/templates/page.js"],"sourcesContent":["import React from 'react'\r\nimport { graphql } from 'gatsby'\r\nimport SEO from '../components/SEO'\r\nimport get from 'lodash/get'\r\nimport Layout from '../components/layout'\r\n\r\nimport { BLOCKS } from '@contentful/rich-text-types';\r\nimport { documentToReactComponents } from \"@contentful/rich-text-react-renderer\"\r\n\r\nimport ArticlePreview from '../components/article-preview'\r\nimport CaptionedFigure from '../components/blog_embeds/captioned-figure'\r\nimport LinkSharing from '../components/link-sharing'\r\n\r\nimport * as styles from '../templates/blog-post.module.css'\r\n\r\nclass PageTemplate extends React.Component {\r\n\r\n\trender() {\r\n\t\tconst post = get(this.props, 'data.contentfulPage')\r\n\t\t\r\n\t\tconst assets = new Map(post.richTextBody.references.map(ref => [ref.contentful_id,ref]))\r\n\t\tconst options = {\r\n\t\t\trenderNode: {\r\n\t\t\t\t[BLOCKS.EMBEDDED_ASSET]: node => {\r\n\t\t\t\t\tconst data = assets.get(node.data.target.sys.id)\r\n\t\t\t\t\tif (data.file.contentType.startsWith('image/')) {\r\n\t\t\t\t\t\treturn(<CaptionedFigure gatsbyImageData={data.gatsbyImageData} title={data.title} description={data.description}/>)\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst requiredHead = [\r\n\t\t\t<script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>,\r\n\t\t\t<div id=\"fb-root\"></div>,\r\n\t\t\t<script async defer crossorigin=\"anonymous\" src=\"https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v10.0\" nonce=\"9bOR49xF\"></script>,\r\n\t\t]\r\n\r\n\t\treturn (\r\n\t\t\t<Layout location={this.props.location}>\r\n\t\t\t\t<div className=\"white-background\">\r\n\t\t\t\t\t<SEO \r\n\t\t\t\t\t\ttitle={post.title} \r\n\t\t\t\t\t\tmetaType='article'\r\n\t\t\t\t\t\tdescription={post.description.childMarkdownRemark.rawMarkdownBody}\r\n\t\t\t\t\t\tchildElements={requiredHead}\r\n\t\t\t\t\t\tdoNotCrawl={!post.enableSearchCrawling}\r\n\t\t\t\t\t\tmetaImage={post.imagePreview.file.url}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"wrapper\" >\r\n\t\t\t\t\t\t<h1 className={styles.title}>{post.title}</h1>\r\n\t\t\t\t\t\t<div className=\"richText\" styles={{maxWidth: '800px'}}>\r\n\t\t\t\t\t\t\t{post.richTextBody != null ? documentToReactComponents(JSON.parse(post.richTextBody.raw), options) : <p>Error: Article not found.</p>}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<LinkSharing location={'https://blanketsforto.ca/blog/' + post.slug} />\r\n\t\t\t\t\t\t<hr className={styles.horizontalLine}></hr>\r\n\t\t\t\t\t\t<ArticlePreview excludeSlug={post.slug}></ArticlePreview>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Layout>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default PageTemplate\r\n\r\nexport const DynamicPageQuery = graphql`\r\n\tquery PageBySlug($slug: String!) {\r\n\t\tsite {\r\n\t\t\tsiteMetadata {\r\n\t\t\t\ttitle\r\n\t\t\t}\r\n\t\t}\r\n\t\tcontentfulPage(slug: { eq: $slug }) {\r\n\t\t\ttitle\r\n\t\t\tslug\r\n\t\t\trichTextBody {\r\n\t\t\t\traw\r\n\t\t\t\treferences {\r\n\t\t\t\t\t... on ContentfulAsset {\r\n\t\t\t\t\t\tdescription\r\n\t\t\t\t\t\ttitle\r\n\t\t\t\t\t\tfile {\r\n\t\t\t\t\t\t\tcontentType\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tgatsbyImageData(\r\n\t\t\t\t\t\t\tlayout: CONSTRAINED\r\n\t\t\t\t\t\t\twidth: 760\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\tcontentful_id\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdescription {\r\n\t\t\t\tchildMarkdownRemark {\r\n\t\t\t\t\thtml\r\n\t\t\t\t\trawMarkdownBody\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tenableSearchCrawling\r\n\t\t\timagePreview {\r\n\t\t\t\tfile {\r\n\t\t\t\t\turl\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`\r\n"],"names":["PageTemplate","render","post","get","this","props","assets","Map","richTextBody","references","map","ref","contentful_id","options","renderNode","BLOCKS","node","data","target","sys","id","file","contentType","startsWith","gatsbyImageData","title","description","requiredHead","async","src","charset","defer","crossorigin","nonce","location","className","metaType","childMarkdownRemark","rawMarkdownBody","childElements","doNotCrawl","enableSearchCrawling","metaImage","imagePreview","url","styles","maxWidth","documentToReactComponents","JSON","parse","raw","slug","excludeSlug","React"],"sourceRoot":""}