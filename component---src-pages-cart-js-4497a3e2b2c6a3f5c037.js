(self.webpackChunkblankets_for_to_site=self.webpackChunkblankets_for_to_site||[]).push([[873],{4904:function(e,t,r){"use strict";var n=r(7294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=(0,n.forwardRef)((function(e,t){var r=e.color,i=void 0===r?"currentColor":r,c=e.size,l=void 0===c?24:c,u=a(e,["color","size"]);return n.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),n.createElement("polyline",{points:"15 18 9 12 15 6"}))}));i.displayName="ChevronLeft",t.Z=i},1331:function(e,t,r){"use strict";var n=r(7294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=(0,n.forwardRef)((function(e,t){var r=e.color,i=void 0===r?"currentColor":r,c=e.size,l=void 0===c?24:c,u=a(e,["color","size"]);return n.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),n.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),n.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))}));i.displayName="Copy",t.Z=i},1112:function(e,t,r){"use strict";var n=r(7294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=(0,n.forwardRef)((function(e,t){var r=e.color,i=void 0===r?"currentColor":r,c=e.size,l=void 0===c?24:c,u=a(e,["color","size"]);return n.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),n.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),n.createElement("polyline",{points:"15 3 21 3 21 9"}),n.createElement("line",{x1:"10",y1:"14",x2:"21",y2:"3"}))}));i.displayName="ExternalLink",t.Z=i},4662:function(e,t,r){"use strict";var n=r(7294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=(0,n.forwardRef)((function(e,t){var r=e.color,i=void 0===r?"currentColor":r,c=e.size,l=void 0===c?24:c,u=a(e,["color","size"]);return n.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),n.createElement("circle",{cx:"12",cy:"12",r:"10"}),n.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))}));i.displayName="Info",t.Z=i},7565:function(e,t,r){"use strict";var n=r(7294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=(0,n.forwardRef)((function(e,t){var r=e.color,i=void 0===r?"currentColor":r,c=e.size,l=void 0===c?24:c,u=a(e,["color","size"]);return n.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),n.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),n.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));i.displayName="MinusSquare",t.Z=i},476:function(e,t,r){"use strict";var n=r(7294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=(0,n.forwardRef)((function(e,t){var r=e.color,i=void 0===r?"currentColor":r,c=e.size,l=void 0===c?24:c,u=a(e,["color","size"]);return n.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),n.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),n.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),n.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));i.displayName="PlusSquare",t.Z=i},5500:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(7294),o=r(4904),a=function(e){var t=e.text,r=e.link;return n.createElement("a",{href:r,className:"back-arrow-module--arrowStyles--7RiFP"},n.createElement(o.Z,null),t)}},5158:function(e,t,r){"use strict";var n=r(7294),o=r(5918),a=function(e){var t=e.buttonText,r=e.link,a=e.isWhite,i=e.openInNewTab,c=e.children;return n.createElement("a",{href:r,className:a?o.rY:o.ud,target:i?"_blank":"",rel:"noopener noreferrer"},t,c)};a.defaultProps={isWhite:!1,openInNewTab:!1},t.Z=a},1377:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var n=r(4578),o=r(7294),a=r(7361),i=r.n(a),c=r(3370),l=r(945),u=r(5500),s=r(2686),m=r(4841),f=r.n(m),p=r(7565),d=r(476),y="cart-item-module--countIcons--bWPSX",h=function(e){function t(){return e.apply(this,arguments)||this}return(0,n.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.cartItem,r=e.minusQuantity,n=e.plusQuantity;return o.createElement("div",{className:"cart-item-module--parentContainer--60FC1"},o.createElement("div",{className:"cart-item-module--name--LF34L"},o.createElement("a",{href:"/store/"+t.slug},t.itemName)),o.createElement("p",{className:"cart-item-module--price--cTlmP"},"$",t.isMember?t.memberItemPrice.toFixed(2):t.itemPrice.toFixed(2)),o.createElement("div",{className:"cart-item-module--count--PrBgP"},o.createElement(p.Z,{className:y,onClick:function(){return r(t)}}),o.createElement("p",null,f()(t.count.toFixed())),o.createElement(d.Z,{className:y,onClick:function(){return n(t)}})),o.createElement("p",{className:"cart-item-module--total--eqfuC"},"$",t.total.toFixed(2)))},t}(o.Component),v=h,b=r(4662),g=r(1331),E=r(1112),w=r(5158),O=r(5918),x="cart-module--layoutHeader--hvJ6B",k=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call(this,...n)||this).allItems=i()(t.props,"data.allContentfulMerchItem.nodes"),t.state={refresh:!1,isMember:!1,copied:!1,cartItems:[]},t.changeMembershipStatus=function(){t.setState({isMember:!t.state.isMember})},t.plusQuantity=function(e){var r=t.state.cartItems,n=r.find((function(t){return t.slug===e.slug}));void 0!==n&&(n.count+=1,t.updateCookies(r),t.setState({cartItems:r}))},t.minusQuantity=function(e){var r=t.state.cartItems,n=r.find((function(t){return t.slug===e.slug}));void 0!==n&&(n.count-=1,r=r.filter((function(e){return e.count>0})),t.updateCookies(r),t.setState({cartItems:r}))},t.updateCookies=function(e){if("undefined"!=typeof window){var t=e.map((function(e){return{slug:e.slug,count:e.count}}));s.Z.set("cart-items",JSON.stringify(t),{path:"/"})}},t.generateList=function(){var e=t.state.cartItems.length>0?t.state.cartItems.map((function(e){var r=t.allItems.find((function(t){return t.slug===e.slug}));return Object.assign({isMember:t.state.isMember,count:e.count,total:(t.state.isMember?r.memberItemPrice:r.itemPrice)*e.count},r)})).filter((function(e){return 0!==e.count})):[],r=e.length>0?e.map((function(e){return e.total})).reduce((function(e,t){return e+t}),0):0,n=["ORDER DETAILS:"];return(n=(n=n.concat(e.map((function(e){return"Item Name: "+e.itemName+" Price: $"+e.itemPrice.toFixed(2)+" Quantity: "+e.count+" Total: $"+e.total.toFixed(2)})))).concat(["GRAND TOTAL: $"+r.toFixed(2)])).join("\r\n")},t.copyOrderList=function(e){if("undefined"!=typeof window&&document.queryCommandSupported&&document.queryCommandSupported("copy")){var r=document.createElement("textarea");r.textContent=t.generateList(e),r.style.position="fixed",document.body.appendChild(r),r.select();try{return document.execCommand("copy")}catch(n){return prompt("Copy to clipboard: Ctrl+C, Enter")}finally{document.body.removeChild(r),t.setState({copied:!0},(function(){return setTimeout((function(){return t.setState({copied:!1})}),2e3)}))}}},t}(0,n.Z)(t,e);var r=t.prototype;return r.componentDidMount=function(){if("undefined"!=typeof window){var e=JSON.parse(s.Z.get("cart-items"));this.setState({cartItems:e})}else this.setState({cartItems:[]})},r.render=function(){var e=this,t=this.state.cartItems.length>0,r=this.state.cartItems.length>0?this.state.cartItems.map((function(t){var r=e.allItems.find((function(e){return e.slug===t.slug}));return Object.assign({isMember:e.state.isMember,count:t.count,total:(e.state.isMember?r.memberItemPrice:r.itemPrice)*t.count},r)})).filter((function(e){return 0!==e.count})):[],n=r.length>0?r.map((function(e){return e.total})).reduce((function(e,t){return e+t}),0):0;return o.createElement(l.Z,{location:this.props.location},o.createElement(c.Z,{title:"Your Cart",description:"Browse items in your shopping cart.",doNotCrawl:!0}),o.createElement("div",{className:"white-background"},o.createElement("div",{className:"wrapper"},o.createElement(u.Z,{text:t?"Continue browsing":"Browse items",link:"/store"}),o.createElement("div",{className:"cart-module--layout--GTRRA"},!t&&o.createElement("div",{className:"cart-module--emptyCart--7Gt4n"},o.createElement("p",null,"There are no items in your shopping cart.")),o.createElement("div",{className:t?"cart-module--cartFull--8vlW-":"cart-module--cartEmpty--IfKLK"},o.createElement("h2",{className:x},"Order Cart"),o.createElement("div",{className:"cart-module--header--eODKQ"},o.createElement("p",{className:"cart-module--name--oiUXO"},"Item"),o.createElement("p",{className:"cart-module--price---EUfh"},"Price"),o.createElement("div",{className:"cart-module--countHeader--4BnEt"},o.createElement("p",{className:"cart-module--count--JLTb3"},"Quantity")),o.createElement("p",{className:"cart-module--total--I7JaJ"},"Total")),o.createElement("div",{className:"cart-module--cartList--eaEXx"},r.length>0&&r.map((function(t){return o.createElement(v,{cartItem:t,plusQuantity:function(t){return e.plusQuantity(t)},minusQuantity:function(t){return e.minusQuantity(t)},key:t.slug})}))),o.createElement("div",{className:"cart-module--totalBar--Y3taJ"},o.createElement("div",{className:"cart-module--totalTitle--BuPvF"},o.createElement("p",null,"Grand Total")),o.createElement("p",{className:"cart-module--totalNumber--+O909"},"$",n.toFixed(2)))),t&&o.createElement("div",{className:"cart-module--checkoutPane--ozJYG"},o.createElement("h2",{className:x},"Checkout"),o.createElement("div",{className:"cart-module--memberDiscountInfo--q+Iov"},o.createElement(b.Z,{className:"cart-module--infoIcon--jXSR4"}),o.createElement("a",{href:"/positions"},"Are you a member of Blankets for T.O.?")),o.createElement("div",{className:"cart-module--memberDiscountBox--m6niW"},o.createElement("input",{type:"checkbox",id:"membership",name:"membership",value:"Membership",onChange:function(){return e.changeMembershipStatus()}}),o.createElement("label",{htmlFor:"membership"},"Yes, claim member discount")),o.createElement("div",{className:"cart-module--checkoutText--4j5sT"},o.createElement("span",null,"Step 1: Check"),o.createElement("p",null,"Look over and double-check your order cart."),o.createElement("span",null,"Step 2: Send"),o.createElement("p",null,"To send your order, copy your order details and use it to fill out our Google Form"),o.createElement("div",{className:O.ud+" cart-module--copyOrderDetails--imK8B",onClick:function(){return e.copyOrderList(n)}},this.state.copied?"Order copied to clipboard!":"Copy order details",o.createElement(g.Z,{style:{margin:"0 5px"}})),o.createElement(w.Z,{openInNewTab:!0,link:"https://forms.gle/6pMnKaWJMQKRrwY77",buttonText:""},"Go to Google Form",o.createElement(E.Z,{style:{margin:"0 5px"}})),o.createElement("span",null,"Step 3: Done!"),o.createElement("p",null,"If the form has been submitted, your order is now being processed. Thanks for your support!"),o.createElement("p",null,"To stay updated on the status of your order, please look out for emails from us. You will receive an email about your order status and pickup arrangements.")))))))},t}(o.Component)},7561:function(e,t,r){var n=r(7990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(o,""):e}},7990:function(e){var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},4841:function(e,t,r){var n=r(7561),o=r(3218),a=r(3448),i=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=c.test(e);return r||l.test(e)?u(e.slice(2),r?2:8):i.test(e)?NaN:+e}},5918:function(e,t,r){"use strict";r.d(t,{rY:function(){return o},ud:function(){return n}});var n="styled-button-module--primaryButton--Dz6IR",o="styled-button-module--whiteButton--CKQxd"}}]);
//# sourceMappingURL=component---src-pages-cart-js-4497a3e2b2c6a3f5c037.js.map